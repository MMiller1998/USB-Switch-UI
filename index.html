<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8">
    <title>Switch Port Control  </title>
  </head>
  <style>

  .btn {
  border: none;
  color: black;
  padding: 10px 20px;
  text-align: center;
  text-decoration: none;
  font-size: 16px;
  margin: 2px 2px;
  cursor: pointer;
  display: block;
  background-color: red;
  width: 115px;
  }
  .col1 {
  float: left;
        }
  .col2 {
  float: right;
        }
  </style>

  <body>

    <div class="col1" id="col1">
    </div>
    <div class="col2" id="col2">
    </div>

    <script>
      // You can also require other files to run in this process
      require('./renderer.js')
      require('./settings.js')

      const ON = 1;
      const OFF = 0;

      for (var i = 1; i <= 16; i++)
      {
        var button = document.createElement("button");
        button.setAttribute("id", "button" + i);
        button.setAttribute("class", "btn");
        button.setAttribute("onClick", "changeColor(this.id)");
        button.innerText = "Switch " + i;
        button.setAttribute("value", OFF);

        if (i < 9)
        {
          document.getElementById("col1").appendChild(button);
        }
        else
        {
          document.getElementById("col2").appendChild(button);
        }
      }

      function changeColor(id){
        var button = document.getElementById(id);

        if(button.value == OFF)
        {
          button.style.backgroundColor = 'green';
          button.value = ON;
        }
        else if (button.value == ON)
        {
          button.style.backgroundColor = 'red';
          button.value = OFF;
        }
      }

      function testConnection(){
        var x = new XMLHttpRequest();
        var file = "http://10.10.1.25:8080/login?from=%2F";
        x.open('HEAD', file , true);
        x.send();

        x.addEventListener("readystatechange", processRequest, false);

        function processRequest(e)
        {
          if(x.readyState == 4)
          {
            if(x.status >= 200 && x.status < 304)
            {
              alert("connection exists!");
            }
            else
            {
              alert("connection doesn't exist! Please check the connection to the Switch. ");
            }
          }

        }
      }

      testConnection();


      function turnPortOn

    </script>

  </body>
</html>
